{
  "StateMachines": {
    "braze_update_workflow": {
      "TestCases": {
        "BestScenario": {
          "GetBrazeRateLimits": "MockedGetBrazeRateLimits",
          "BrazeSender": "MockedBrazeSender",
          "PutBrazeRateLimits": "MockedPutBrazeRateLimits"
        },
        "WaitScenario":{
          "GetBrazeRateLimits": "MockedGetBrazeRateLimitsWithoutRequests",
          "BrazeSender": "MockedBrazeSender",
          "PutBrazeRateLimits": "MockedPutBrazeRateLimits"
        }
      }
    }
  },
  "MockedResponses": {
    "MockedGetBrazeRateLimits": {
      "0": {
        "Return": {
          "ConsumedCapacity": {},
          "Item": {
            "RequestType": {
              "S": "canvas_trigger_send"
            },
            "RequestLimit": {
              "N": 1
            },
            "RequestRemaining": {
              "N": 1
            },
            "RequestReset": {
              "N": ""
            }
          }
        }
      }
    },
    "MockedGetBrazeRateLimitsWithoutRequests": {
      "0": {
        "Return": {
          "ConsumedCapacity": {},
          "Item": {
            "RequestType": {
              "S": "canvas_trigger_send"
            },
            "RequestLimit": {
              "N": 10
            },
            "RequestRemaining": {
              "N": 0
            },
            "RequestReset": {
              "S": "$$.Execution.StartTime"
            }
          }
        }
      }
    },
    "MockedBrazeSender": {
      "0": {
        "Return": {
          "StatusCode": 200,
          "Payload": {
            "StatusCode": 200,
            "body": {
              "request_type": "canvas_trigger_send",
              "request_limit": 11,
              "request_remaining": 10,
              "request_reset": 12345
            }
          }
        }
      }
    },
    "MockedPutBrazeRateLimits": {
      "0": {
        "Return": {
          "Attributes": {
            "null": {}
          },
          "ConsumedCapacity": {
            "null": {}
          },
          "ItemCollectionMetrics": {
            "null": {}
          }
        }
      }
    }
  }
}